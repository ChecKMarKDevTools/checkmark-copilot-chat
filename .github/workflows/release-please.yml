name: ðŸš€ Release Please

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  release-please:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      id-token: write
      attestations: write
    steps:
      - uses: google-github-actions/release-please-action@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          release-type: node
          package-name: 'checkmark-copilot-chat'
          prerelease: true
          prerelease-type: 'beta'
          changelog-types: >-
            [
              {
                "type": "feat",
                "section": "ðŸ“º *Pilot Episode: New & Shiny*",
                "hidden": false
              },
              {
                "type": "fix",
                "section": "ðŸ”§ *CSI: Bug Unit*",
                "hidden": false
              },
              {
                "type": "chore",
                "section": "ðŸ§½ *The Maintenance Diaries* (unaired)",
                "hidden": true
              },
              {
                "type": "docs",
                "section": "ðŸ“– *Previously On...* (narrated by the Docs Dept)",
                "hidden": true
              },
              {
                "type": "style",
                "section": "ðŸ’… *Makeover Montage*",
                "hidden": true
              },
              {
                "type": "refactor",
                "section": "ðŸ”„ *Extreme Code Makeover: Backend Edition*",
                "hidden": true
              },
              {
                "type": "perf",
                "section": "âš¡ *Fast & the Curious*",
                "hidden": false
              },
              {
                "type": "test",
                "section": "ðŸ§ª *Trial by Unit* (testimony included)",
                "hidden": true
              }
            ]
