# ADR-004: User Data Privacy and Instruction Append-Only Policy

## Status

Accepted

## Date

2025-07-22

## Context

The CheckMark Copilot Extension is designed to be installable as either a GitHub App or a VS Code extension, with both options providing the same functionality. The extension does not incorporate any third-party LLMs, middleware, or external code, and never will. Its sole function is to intercept the prompt from the user in GitHub Copilot and append (never modify) custom instructions to achieve the user-specified goal using a curated formula. The repository is open, and the project is maintained with a high degree of secure, clean, documented, and testable coding practices from the start. Initial development is intentionally slow to ensure this foundation.

## Decision

- The extension will **never copy, store, or otherwise read user data** in any way.
- Logging is limited to sanitized metrics only (e.g., context size, duration, rate of sanitized command execution) and will never include usernames, organization, or repository information.
- Metrics are used strictly for early learning regarding rate limits and repeat use, and are never shared outside the developer team actively working to improve the application (currently a single maintainer).
- The extension appends instructions to the Copilot prompt but never modifies the original user data. If Copilot's context overflows, the oldest instruction is dropped due to the unshift/append logic. This may cause Copilot to behave unexpectedly, which is a known and normal occurrence.
- The extension is stateless and touch-free; instructions may be appended multiple times if the user continuously prompts the extension. Potential solutions are being considered, but the design will remain stateless and privacy-first.
- The repository is open for review, and feedback is encouraged to improve privacy and security.

## Consequences

- User data is treated as sacred: it must never be modified, logged without sanitization, or shared beyond those who strictly need it for the improvement of this application and its features.
- The extension will not and cannot function as a data processor or storage mechanism for user code or prompts.
- Any logging or metrics will be fully anonymized and stripped of all identifying information.
- The privacy-first, append-only, and open-source approach may slow initial development but ensures long-term trust and security for all users.

---

_Generated by GitHub Copilot Chat directed by Ashley Childress on Mon Jul 21 2025_
