# ADR-001: Single Parameterized Skill Architecture

## Status

Accepted

## Date

2025-07-21

## Context

VS Code Copilot Chat extensions are limited to 5 skills maximum. We need to support 10+ specialized chat modes (Doc Doctor, Security Sentinel, Refactor Genie, etc.) for different development tasks. Traditional approaches would require one skill per mode, exceeding the limit.

The chat modes need to:

- Provide specialized expertise for different domains
- Inject specific instructions and context
- Maintain distinct personalities and approaches
- Be easily extensible for new modes

## Decision

Implement a single parameterized skill architecture where:

1. **Single Skill**: `@checkmarkdevtools chat`
2. **Dynamic Mode Selection**: `mode=doc_doctor`, `mode=security_sentinel`, etc.
3. **Parameter-Based Configuration**: `task`, `context`, `scope` parameters
4. **Instruction Injection**: Load mode-specific instruction files and inject into Copilot context

Example usage:

```
@checkmarkdevtools chat mode=doc_doctor task="implement all documentation" context=#codebase
@checkmarkdevtools chat mode=security_sentinel action="review for vulnerabilities" scope=#file
```

## Consequences

### Positive

- **Unlimited Extensibility**: No limit on number of chat modes
- **Flexible Parameters**: Rich parameter system for complex interactions
- **Simplified Architecture**: One skill to manage instead of many
- **Easy Maintenance**: Add new modes by creating instruction files
- **Better UX**: Consistent interface with powerful parameterization

### Negative

- **Parameter Parsing Complexity**: Need robust parameter validation and parsing
- **Mode Discovery**: Users need to learn available modes and parameters
- **Error Handling**: More complex error scenarios with invalid parameters

### Trade-offs

- Chose flexibility over simplicity
- Chose extensibility over individual skill optimization
- Chose single interface over mode-specific UX

## Alternatives Considered

1. **5 Separate Skills**: Limited to 5 modes, not extensible
2. **Multiple Extensions**: Poor UX, installation complexity
3. **External Service**: Network dependency, security concerns
4. **Configuration-Based Switching**: Less intuitive than parameters

## References

- [VS Code Chat API Documentation](https://code.visualstudio.com/api/extension-guides/chat)
- [Design Principles](../../.github/instructions/design-principles.instructions.md)
- [Chat Modes Documentation](../chat-modes.md)

---

_Generated by GitHub Copilot Chat directed by Ashley Childress on Mon Jul 21 2025_
