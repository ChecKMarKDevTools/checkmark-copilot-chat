# ğŸ¬ Workflow Documentation

This document covers the 3 GitHub Actions workflows that power the CheckMark Copilot Extension CI/CD pipeline.

## ğŸ“Š Overview

- **Total Workflows:** 3
- **Automation Coverage:** Complete CI/CD pipeline
- **Quality Gates:** Multi-layered security and quality control

---

## âœ”ï¸ Quality Control Department

- **File:** `.github/workflows/quality-control.yml`
- **Theme:** Patrick Jane (The Mentalist) psychological analysis

### When It Runs

- **Pull Requests:** opened/synchronized/reopened
- **Main Branch:** pushes (after PR merge)
- **Scheduled:** Weekly Friday at 03:37 UTC
- **Manual:** On-demand via workflow\_dispatch

### What It Does

- **ğŸ” Code Quality & Linting:** Jane's code "mind reading" (Super Linter)
- **ğŸ›¡ï¸ Security Vulnerability Scanning:** Psychological profiling of security patterns (Semgrep)
- **ğŸ•µï¸ Advanced Static Analysis:** Pattern recognition and behavioral analysis (CodeQL)
- **ğŸ›ï¸ Final Quality Assessment:** CBI consultation and final verdict

### Scope

- **PRs:** Changed files only (efficient)
- **Main/Scheduled:** Full codebase (comprehensive)
- **CodeQL:** Always full codebase (no diff mode)

---

## ğŸ›°ï¸ Security Deep Scan (Chaos-style)

- **File:** `.github/workflows/full-body-scan.yml`
- **Theme:** "The Mentalist" episode rotation

### When It Runs

- **Week 1:** Thursday 04:13 UTC - "ğŸ’‹ Judy's Backup Failed Again"
- **Week 2:** Monday 02:42 UTC - "ğŸ¿ Billy Went Skiing With No Helmet"
- **Week 3:** Friday 06:29 UTC - "ğŸ’° Kelvin Charged It to the Church Card"
- **Week 4:** Sunday 03:57 UTC - "ğŸ™ Jesse Baptized a Branch in Production"
- **Manual:** "ğŸ¬ On-Demand Special: The One Where We Scan Everything"

### What It Does

- **ğŸ§¼ Security Scanning:** Semgrep comprehensive analysis
- **ğŸ“¤ SARIF Upload:** Results to GitHub Security tab
- **ğŸ“º Episode Reports:** TV-themed security summaries with music recommendations

### Scope

- **Always:** Full codebase security analysis

---

## ğŸ¾ Release Please

- **File:** `.github/workflows/release-please.yml`
- **Theme:** TV show-themed changelog sections

### When It Runs

- **Main Branch:** Push events (after PR merge)
- **Manual:** On-demand via workflow\_dispatch

### What It Does

- **ğŸ”§ Build & Test:** Node.js setup with Volta version management
- **ğŸ“¦ Artifact Creation:** Git archive packaging with integrity verification
- **âœï¸ Attestation:** Build provenance generation for security
- **ğŸ¬ TV Changelog:** Themed release notes with personality

### Changelog Sections (TV Style)

- **ğŸ¬ Pilot Episode: New & Shiny** - New features (`feat`)
- **ğŸ”§ CSI: Bug Unit** - Bug fixes (`fix`)
- **âš¡ Fast & the Curious** - Performance improvements (`perf`)
- **ğŸ§½ The Maintenance Diaries** - Chores (hidden)
- **ğŸ“– Previously On...** - Documentation updates (hidden)
- **ğŸ’… Makeover Montage** - Style changes (hidden)
- **ğŸ”„ Extreme Code Makeover: Backend Edition** - Refactoring (hidden)
- **ğŸ§ª Trial by Unit** - Test updates (hidden)

### Scope

- **Always:** Full project build and release

---

## ğŸ¯ Workflow Triggers Summary

| Trigger | Quality Control | Full Scan | Release |
| - | - | - | - |
| **PR Events** | âœ… (changed files) | âŒ | âŒ |
| **Push to Main** | âœ… (full codebase) | âŒ | âœ… |
| **Weekly Schedule** | âœ… (full codebase) | âœ… (rotating) | âŒ |
| **Manual Dispatch** | âœ… (full codebase) | âœ… | âœ… |

---

## ğŸ›¡ï¸ Security & Quality Gates

### Multi-Layer Validation

1. **Input Validation:** All user inputs sanitized and validated
2. **Code Quality:** ESLint, Prettier, language-specific linting
3. **Security Scanning:** Semgrep vulnerability detection
4. **Static Analysis:** CodeQL behavioral pattern analysis
5. **Final Assessment:** Comprehensive approval decision

### Failure Handling

- **Fail Fast:** Critical errors stop pipeline immediately
- **Graceful Degradation:** Non-critical issues allow continuation with warnings
- **Manual Override:** Emergency bypass for critical fixes (with approval)

---

## ğŸ¬ TV Theme Integration

Our workflows incorporate TV show themes to make CI/CD more engaging:

- **Patrick Jane (The Mentalist):** Quality control and security analysis with psychological profiling
- **Chaos Episodes:** Weekly security scans with rotating character themes
- **TV Production Pipeline:** Release stages themed like TV show production
- **CBI Assessment:** California Bureau of Investigation final approval process

---

## Related Documentation

- [GitHub Actions Workflow Guide](./github-actions-workflow.md)
- [Security Workflow Diagram](./diagrams/security-workflow.mmd)
- [Hotfix Workflow Diagram](./diagrams/hotfix-workflow.mmd)
- [Health Check Workflow](./diagrams/health-check-workflow.mmd)
- [ADR-005: TV-Themed Pre-Release Automation](./adr/005-tv-themed-prerelease-automation.md)

<!-- Generated by GitHub Copilot Chat directed by Ashley Childress -->
